<app-header></app-header>
<main class="container">
    <div class="breadcrumb">
        Trang ch·ªß > Mua xe c≈©
    </div>

    <h1 class="page-title">Mua b√°n xe √¥ t√¥ c≈© m·ªõi gi√° t·ªët ∆∞u ƒë√£i 07/2025</h1>
    <div class="promo-banner">
        <img src="https://e-cdn.carpla.vn/carpla-ecom/cms/toyotacantho-1747121816.802.png?image_process=format,webp/resize,w_1080"
            srcset="https://e-cdn.carpla.vn/carpla-ecom/cms/toyotacantho-1747121816.802.png?image_process=format,webp/resize,w_1080 1x, https://e-cdn.carpla.vn/carpla-ecom/cms/toyotacantho-1747121816.802.png?image_process=format,webp/resize,w_2048 2x"
            alt="Toyota C·∫ßn Th∆° Banner"
            style="width:100%;max-width:100%;height:auto;display:block;margin:18px auto 24px auto;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.08);" />
    </div>

    <div class="main-wrapper">
        <div class="main-content">
            <div class="search-banner">
                <div class="search-banner-content">
                    <h2>T√¨m xe ch√≠nh h√£ng<br>Ch·ªçn Carpla.vn</h2>
                    <div class="search-input-group">
                        <input type="text" placeholder="T√¨m ki·∫øm theo h√£ng xe, m·∫´u xe, s·ªë ch·ªó...">
                        <button>T√¨m ki·∫øm</button>
                    </div>
                </div>
                <div class="search-banner-image"></div>
            </div>

            <div class="filter-section">
                <h4>Khu v·ª±c</h4>
                <div class="filter-buttons">
                    <button class="active">T·∫•t c·∫£</button>
                    <button>H√† N·ªôi</button>
                    <button>H·ªì Ch√≠ Minh</button>
                    <button>ƒê√† N·∫µng</button>
                    <button>C·∫ßn Th∆°</button>
                    <button>B√¨nh D∆∞∆°ng</button>
                    <button>An Giang</button>
                    <button id="show-province-modal"
                        onclick="document.getElementById('province-modal').style.display='block'">Xem th√™m</button>
                </div>
                <div id="province-modal" class="province-modal" style="display:none;">
                    <div class="province-modal-content">
                        <span class="close"
                            onclick="document.getElementById('province-modal').style.display='none'">&times;</span>
                        <h3>Ch·ªçn khu v·ª±c</h3>
                        <input type="text" class="province-search" placeholder="T√¨m ki·∫øm t·ªânh th√†nh..."
                            oninput="filterProvinces(this.value)">
                        <div class="province-list">
                            <button class="active">T·∫•t c·∫£</button>
                            <button>H√† N·ªôi</button>
                            <button>H·ªì Ch√≠ Minh</button>
                            <button>ƒê√† N·∫µng</button>
                            <button>C·∫ßn Th∆°</button>
                            <button>B√¨nh D∆∞∆°ng</button>
                            <button>An Giang</button>
                            <button>B·∫Øc Giang</button>
                            <button>B·∫Øc K·∫°n</button>
                            <button>B·∫°c Li√™u</button>
                            <button>B·∫Øc Ninh</button>
                            <button>B·∫øn Tre</button>
                            <button>B√¨nh ƒê·ªãnh</button>
                            <button>B√¨nh Ph∆∞·ªõc</button>
                            <button>B√¨nh Thu·∫≠n</button>
                            <button>C√† Mau</button>
                            <button>Cao B·∫±ng</button>
                            <button>ƒê·∫Øk L·∫Øk</button>
                            <button>ƒê·∫Øk N√¥ng</button>
                            <button>ƒêi·ªán Bi√™n</button>
                            <button>ƒê·ªìng Nai</button>
                            <button>ƒê·ªìng Th√°p</button>
                            <button>Gia Lai</button>
                            <button>H√† Giang</button>
                            <button>H√† Nam</button>
                            <button>H√† Tƒ©nh</button>
                            <button>H·∫£i D∆∞∆°ng</button>
                            <button>H·∫£i Ph√≤ng</button>
                            <button>H·∫≠u Giang</button>
                            <button>H√≤a B√¨nh</button>
                            <button>H∆∞ng Y√™n</button>
                            <button>Kh√°nh H√≤a</button>
                            <button>Ki√™n Giang</button>
                            <button>Kon Tum</button>
                            <button>Lai Ch√¢u</button>
                            <button>L√¢m ƒê·ªìng</button>
                            <button>L·∫°ng S∆°n</button>
                            <button>L√†o Cai</button>
                            <button>Long An</button>
                            <button>Nam ƒê·ªãnh</button>
                            <button>Ngh·ªá An</button>
                            <button>Ninh B√¨nh</button>
                            <button>Ninh Thu·∫≠n</button>
                            <button>Ph√∫ Th·ªç</button>
                            <button>Ph√∫ Y√™n</button>
                            <button>Qu·∫£ng B√¨nh</button>
                            <button>Qu·∫£ng Nam</button>
                            <button>Qu·∫£ng Ng√£i</button>
                            <button>Qu·∫£ng Ninh</button>
                            <button>Qu·∫£ng Tr·ªã</button>
                            <button>S√≥c TrƒÉng</button>
                            <button>S∆°n La</button>
                            <button>T√¢y Ninh</button>
                            <button>Th√°i B√¨nh</button>
                            <button>Th√°i Nguy√™n</button>
                            <button>Thanh H√≥a</button>
                            <button>Th·ª´a Thi√™n Hu·∫ø</button>
                            <button>Ti·ªÅn Giang</button>
                            <button>Tr√† Vinh</button>
                            <button>Tuy√™n Quang</button>
                            <button>Vƒ©nh Long</button>
                            <button>Vƒ©nh Ph√∫c</button>
                            <button>Y√™n B√°i</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="filter-section">
                <h4>H√£ng xe</h4>
                <div class="filter-buttons">
                    <button class="active"><img
                            src="https://e-cdn.carpla.vn/carpla-ecom/cms/toyota-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                            alt="Toyota"> Toyota</button>
                    <button><img
                            src="https://e-cdn.carpla.vn/carpla-ecom/cms/ford-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                            alt="Ford"> Ford</button>
                    <button><img
                            src="https://e-cdn.carpla.vn/carpla-ecom/cms/mitsubishi-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                            alt="Mitsubishi"> Mitsubishi</button>
                    <button><img
                            src="https://e-cdn.carpla.vn/carpla-ecom/cms/hyundai-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                            alt="Hyundai"> Hyundai</button>
                    <button><img
                            src="https://e-cdn.carpla.vn/carpla-ecom/cms/honda-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                            alt="Honda"> Honda</button>
                    <button><img
                            src="https://e-cdn.carpla.vn/carpla-ecom/cms/mazda-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                            alt="Mazda"> Mazda</button>
                    <button><img
                            src="https://e-cdn.carpla.vn/carpla-ecom/cms/geely-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                            alt="Geely"> Geely</button>
                    <button><img
                            src="https://e-cdn.carpla.vn/carpla-ecom/cms/kia-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                            alt="Kia"> Kia</button>
                    <button id="show-brand-modal"
                        onclick="document.getElementById('brand-modal').style.display='block'">Xem th√™m</button>
                </div>
                <div id="brand-modal" class="brand-modal" style="display:none;">
                    <div class="brand-modal-content">
                        <span class="close"
                            onclick="document.getElementById('brand-modal').style.display='none'">&times;</span>
                        <h3>Ch·ªçn h√£ng xe</h3>
                        <input type="text" class="brand-search" placeholder="T√¨m ki·∫øm h√£ng xe..."
                            oninput="filterBrands(this.value)">
                        <div class="brand-list">
                            <button class="active"><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/toyota-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Toyota"> Toyota</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/ford-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Ford"> Ford</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/mitsubishi-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Mitsubishi"> Mitsubishi</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/hyundai-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Hyundai"> Hyundai</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/honda-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Honda"> Honda</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/mazda-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Mazda"> Mazda</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/geely-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Geely"> Geely</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/kia-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Kia"> Kia</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/mercedes-benz-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Mercedes-Benz"> Mercedes-Benz</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/bmw-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="BMW"> BMW</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/volvo-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Volvo"> Volvo</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/mg-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="MG"> MG</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/lynkco-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Lynk & Co"> Lynk & Co</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/nissan-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Nissan"> Nissan</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/vinfast-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Vinfast"> Vinfast</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/subaru-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Subaru"> Subaru</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/renault-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Renault"> Renault</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/isuzu-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Isuzu"> Isuzu</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/peugeot-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Peugeot"> Peugeot</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/suzuki-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Suzuki"> Suzuki</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/audi-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Audi"> Audi</button>
                            <button><img
                                    src="https://e-cdn.carpla.vn/carpla-ecom/cms/lexus-1741528722.299.jpg?image_process=format,webp/resize,w_128"
                                    alt="Lexus"> Lexus</button>
                            <!-- Add more brands as needed -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="filter-section">
                <h4>NƒÉm s·∫£n xu·∫•t</h4>
                <div class="filter-buttons">
                    <button class="active">T·∫•t c·∫£</button>
                    <button>2025</button>
                    <button>2024</button>
                    <button>2023</button>
                    <button>2022</button>
                    <button>2021</button>
                    <button>2020</button>
                    <button>2019</button>
                    <button>2018</button>
                    <button id="show-year-modal"
                        onclick="document.getElementById('year-modal').style.display='block'">Xem th√™m</button>
                </div>
                <div id="year-modal" class="year-modal" style="display:none;">
                    <div class="year-modal-content">
                        <span class="close"
                            onclick="document.getElementById('year-modal').style.display='none'">&times;</span>
                        <h3>Ch·ªçn nƒÉm s·∫£n xu·∫•t</h3>
                        <input type="text" class="year-search" placeholder="T√¨m ki·∫øm nƒÉm..."
                            oninput="filterYears(this.value)">
                        <div class="year-list-grid">
                            <button class="active">T·∫•t c·∫£</button>
                            <button>2025</button>
                            <button>2024</button>
                            <button>2023</button>
                            <button>2022</button>
                            <button>2021</button>
                            <button>2020</button>
                            <button>2019</button>
                            <button>2018</button>
                            <button>2017</button>
                            <button>2016</button>
                            <button>2015</button>
                            <button>2014</button>
                            <button>2013</button>
                            <button>2012</button>
                            <button>2011</button>
                            <button>2010</button>
                            <button>2009</button>
                            <button>2008</button>
                            <button>2007</button>
                            <button>2006</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="car-listing-header">
                <div class="total-listings">T·ªïng: 1245 xe ƒëang b√°n</div>
                <div class="sort-options">
                    <span>S·∫Øp x·∫øp theo:</span>
                    <select>
                        <option value="moi_nhat">M·ªõi nh·∫•t</option>
                        <option value="gia_thap_cao">Gi√° th·∫•p - cao</option>
                        <option value="gia_cao_thap">Gi√° cao - th·∫•p</option>
                    </select>
                </div>
            </div>

            <div class="car-list">
                <div class="car-card-2col" *ngFor="let car of cars" (click)="goToDetail(car.carId, car.status)"
                    style="cursor:pointer;">
                    <div class="car-card-img">
                        <div class="car-card-img-content">
                            <img [src]="car.images?.[0]?.imageUrl || 'https://via.placeholder.com/320x200?text=No+Image'"
                                [alt]="car.title">
                            <div class="car-card-time">
                                <span>
                                    <svg width="18" height="18" fill="none" stroke="#ffd600" stroke-width="2"
                                        viewBox="0 0 24 24">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <polyline points="12 6 12 12 16 14"></polyline>
                                    </svg>
                                    2 gi·ªù tr∆∞·ªõc
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="car-card-info">
                        <div class="car-card-title">
                            <h3>{{car.title}}</h3>
                            <p class="price">{{car.price | number}} ƒë <span class="price-month">ch·ªâ t·ª´ 5,0
                                    tri·ªáu/th√°ng</span></p>
                        </div>
                        <div class="car-card-specs">
                            <span><svg width="18" height="18" fill="none" stroke="#222" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                                    <line x1="16" y1="2" x2="16" y2="6" />
                                    <line x1="8" y1="2" x2="8" y2="6" />
                                    <line x1="3" y1="10" x2="21" y2="10" />
                                </svg> {{car.seats}} ch·ªó</span>
                            <span><svg width="18" height="18" fill="none" stroke="#222" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                                    <line x1="16" y1="2" x2="16" y2="6" />
                                    <line x1="8" y1="2" x2="8" y2="6" />
                                    <line x1="3" y1="10" x2="21" y2="10" />
                                </svg> {{car.transmission}}</span>
                            <span><svg width="18" height="18" fill="none" stroke="#222" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                                    <line x1="16" y1="2" x2="16" y2="6" />
                                    <line x1="8" y1="2" x2="8" y2="6" />
                                    <line x1="3" y1="10" x2="21" y2="10" />
                                </svg> {{car.fuelType}}</span>
                            <span><svg width="18" height="18" fill="none" stroke="#222" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <circle cx="12" cy="12" r="10" />
                                    <polyline points="12 6 12 12 16 14" />
                                </svg> {{car.mileage | number}} km</span>
                            <span><svg width="18" height="18" fill="none" stroke="#222" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                                    <line x1="16" y1="2" x2="16" y2="6" />
                                    <line x1="8" y1="2" x2="8" y2="6" />
                                    <line x1="3" y1="10" x2="21" y2="10" />
                                </svg> {{car.location}}</span>
                        </div>
                    </div>
                    <div class="car-card-dealer">
                        <div class="dealer-title">
                            <img src="https://via.placeholder.com/40x40?text=Logo" alt="Logo">
                            <span class="dealer-name">
                                {{car.store?.storeName || 'ƒê·∫°i l√Ω b√°n l·∫ª'}}
                                <span class="dealer-vip" *ngIf="car.store?.storeName">üåª</span>
                            </span>
                        </div>
                        <div class="dealer-stats">
                            <span>ƒêang b√°n <b>5</b></span>
                            <span>ƒê√£ b√°n <b>10</b></span>
                        </div>
                        <div class="dealer-location">
                            <svg width="18" height="18" fill="none" stroke="#222" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M21 10c0 6-9 13-9 13S3 16 3 10a9 9 0 1 1 18 0z" />
                                <circle cx="12" cy="10" r="3" />
                            </svg>
                            <span>{{car.store?.address || car.location}}</span>
                        </div>
                        <div class="dealer-contact">
                            <svg width="18" height="18" fill="none" stroke="#222" stroke-width="2" viewBox="0 0 24 24">
                                <path
                                    d="M22 16.92V19a2 2 0 0 1-2.18 2A19.86 19.86 0 0 1 3 5.18 2 2 0 0 1 5 3h2.09a2 2 0 0 1 2 1.72c.13 1.07.37 2.11.73 3.12a2 2 0 0 1-.45 2.11l-.27.27a16 16 0 0 0 6.29 6.29l.27-.27a2 2 0 0 1 2.11-.45c1.01.36 2.05.6 3.12.73A2 2 0 0 1 21 16.92z" />
                            </svg>
                            <span>{{car.store?.phone ? car.store?.phone?.slice(0, 4) + '******' : 'Li√™n h·ªá'}}</span>
                        </div>
                    </div>
                </div>
                <div class="pagination-wrapper">
                    <ul class="pagination">
                        <li [class.disabled]="currentPage === 0" (click)="currentPage > 0 && loadCars(currentPage - 1)">
                            <span>&lt;</span>
                        </li>
                        <li *ngFor="let page of [].constructor(pagesCount); let i = index"
                            [class.active]="i === currentPage" (click)="loadCars(i)"><span>{{i + 1}}</span></li>
                        <li [class.disabled]="currentPage === pagesCount - 1"
                            (click)="currentPage < pagesCount - 1 && loadCars(currentPage + 1)"><span>&gt;</span></li>
                    </ul>
                </div>
            </div>
        </div>

        <aside class="sidebar">
            <h3>B·ªô l·ªçc</h3>
            <div class="filter-group">
                <h4>Tr·∫°ng th√°i xe</h4>
                <div class="filter-radio-list">
                    <label><input type="radio" name="status" checked> Xe c≈©</label>
                    <label><input type="radio" name="status"> Xe m·ªõi</label>
                </div>
            </div>
            <div class="filter-group">
                <h4>Kho·∫£ng gi√°</h4>
                <div class="filter-radio-list">
                    <label><input type="radio" name="price" checked> D∆∞·ªõi 300 tri·ªáu</label>
                    <label><input type="radio" name="price"> 300 - 500 tri·ªáu</label>
                    <label><input type="radio" name="price"> 500 - 700 tri·ªáu</label>
                    <label><input type="radio" name="price"> 700 tri·ªáu - 1 t·ª∑</label>
                    <label><input type="radio" name="price"> 1 t·ª∑ - 2 t·ª∑</label>
                    <label><input type="radio" name="price"> Tr√™n 2 t·ª∑</label>
                </div>
            </div>
            <div class="filter-group">
                <h4>Ki·ªÉu d√°ng</h4>
                <div class="filter-radio-list">
                    <label><input type="radio" name="body"> Hatchback</label>
                    <label><input type="radio" name="body"> MPV</label>
                    <label><input type="radio" name="body"> Sedan</label>
                    <label><input type="radio" name="body"> SUV</label>
                    <label><input type="radio" name="body"> Pickup</label>
                    <label><input type="radio" name="body"> CUV</label>
                    <label><input type="radio" name="body"> Coupe</label>
                    <label><input type="radio" name="body"> Van/Minibus</label>
                    <label><input type="radio" name="body"> Xe t·∫£i</label>
                    <label><input type="radio" name="body"> Xe du l·ªãch</label>
                    <label><input type="radio" name="body"> Xe kh√°ch</label>
                </div>
            </div>
            <div class="filter-group">
                <h4>S·ªë ch·ªó ng·ªìi</h4>
                <div class="filter-radio-list">
                    <label><input type="radio" name="seat"> 2 ch·ªó</label>
                    <label><input type="radio" name="seat"> 3 ch·ªó</label>
                    <label><input type="radio" name="seat"> 4 ch·ªó</label>
                    <label><input type="radio" name="seat"> 5 ch·ªó</label>
                    <label><input type="radio" name="seat"> 7 ch·ªó</label>
                    <label><input type="radio" name="seat"> 8 ch·ªó</label>
                    <label><input type="radio" name="seat"> 9 ch·ªó</label>
                    <label><input type="radio" name="seat"> 16 ch·ªó</label>
                    <label><input type="radio" name="seat"> 29 ch·ªó</label>
                    <label><input type="radio" name="seat"> 47 ch·ªó</label>
                </div>
            </div>
        </aside>
    </div>
</main>

<app-footer></app-footer>